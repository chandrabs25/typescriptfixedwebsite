(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{4076:function(e,i,t){Promise.resolve().then(t.bind(t,8725))},5863:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});let a=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});let a=(0,t(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},8725:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return g},dynamic:function(){return x}});var a=t(7437),r=t(2265),s=t(7648),l=t(3145),d=t(5863),n=t(4794),c=t(9763);let o=(0,c.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),m=(0,c.Z)("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),u=(0,c.Z)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),p=(0,c.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),x="force-dynamic",y=e=>{let{text:i="Loading..."}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 animate-spin text-blue-600 mb-2"}),(0,a.jsx)("p",{className:"text-gray-500",children:i})]})},h=e=>e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",b=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return i;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse JSON:",e),i}};function g(){let[e,i]=(0,r.useState)([]),[t,c]=(0,r.useState)(!0),[x,g]=(0,r.useState)(null),[v,f]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)({name:"",description:"",price:"",image_url:"",availability:[],type:"activity"}),[S,A]=(0,r.useState)({}),[M,_]=(0,r.useState)(!1),[P,q]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{c(!0),g(null);try{await new Promise(e=>setTimeout(e,1e3));let e=[{id:1,name:"Scuba Diving Experience",description:"Explore the vibrant underwater world with our certified instructors.",type:"activity",provider_id:1,island_id:2,price:2500,availability:JSON.stringify([{day:"Monday",time:"09:00 AM"},{day:"Monday",time:"01:00 PM"},{day:"Wednesday",time:"09:00 AM"},{day:"Friday",time:"09:00 AM"},{day:"Saturday",time:"09:00 AM"},{day:"Saturday",time:"01:00 PM"}]),images:"https://example.com/images/scuba1.jpg,https://example.com/images/scuba2.jpg",amenities:"Equipment rental,Instructor,Underwater photos",cancellation_policy:"48 hours notice required for full refund",isActive:!0,bookings:24,rating:4.7},{id:2,name:"Island Hopping Tour",description:"Visit multiple islands in one day with our comfortable boat tour.",type:"tour",provider_id:1,island_id:2,price:1800,availability:JSON.stringify([{day:"Tuesday",time:"08:00 AM"},{day:"Thursday",time:"08:00 AM"},{day:"Sunday",time:"08:00 AM"}]),images:"https://example.com/images/island-tour.jpg",amenities:"Lunch,Snorkeling gear,Guide",cancellation_policy:"24 hours notice required for full refund",isActive:!0,bookings:56,rating:4.5},{id:3,name:"Beach Cabana Rental",description:"Relax in comfort with our private beach cabanas.",type:"accommodation",provider_id:1,island_id:2,price:1200,availability:JSON.stringify([{day:"Monday",time:"08:00 AM"},{day:"Tuesday",time:"08:00 AM"},{day:"Wednesday",time:"08:00 AM"},{day:"Thursday",time:"08:00 AM"},{day:"Friday",time:"08:00 AM"},{day:"Saturday",time:"08:00 AM"},{day:"Sunday",time:"08:00 AM"}]),images:"https://example.com/images/cabana.jpg",amenities:"Lounge chairs,Umbrella,Towels,Drink service",cancellation_policy:"Same day cancellation: 50% refund",isActive:!1,bookings:12,rating:4.2}].map(e=>{var i,t;return{...e,image_url:null===(t=e.images)||void 0===t?void 0:null===(i=t.split(",")[0])||void 0===i?void 0:i.trim(),parsedAvailability:b(e.availability,[])}});i(e)}catch(e){g(e instanceof Error?e.message:"Unknown error occurred"),console.error("Error fetching services:",e)}finally{c(!1)}})()},[]);let T=e=>{let{name:i,value:t}=e.target;k(e=>({...e,[i]:t})),S[i]&&A(e=>({...e,[i]:void 0}))},C=(e,i,t)=>{k(a=>{let r=[...a.availability];return t?r.some(t=>t.day===e&&t.time===i)||r.push({day:e,time:i}):r=r.filter(t=>!(t.day===e&&t.time===i)),{...a,availability:r}}),S.availability&&A(e=>({...e,availability:void 0}))},E=(e,i)=>w.availability.some(t=>t.day===e&&t.time===i),F=e=>{k({name:e.name,description:e.description||"",price:e.price.toString(),image_url:e.image_url||"",type:e.type,availability:e.parsedAvailability||[]}),f(e),N(!0),A({}),q(""),window.scrollTo({top:0,behavior:"smooth"})},O=()=>{let e={};if(w.name.trim()||(e.name="Service name is required"),w.description.trim()||(e.description="Description is required"),w.price.trim()){let i=parseFloat(w.price);(isNaN(i)||i<=0)&&(e.price="Price must be a positive number")}else e.price="Price is required";return w.type.trim()||(e.type="Service type is required"),Array.isArray(w.availability)&&0!==w.availability.length||(e.availability="Select at least one availability slot"),A(e),0===Object.keys(e).length},Z=e=>{window.confirm("Are you sure you want to delete this service? This action cannot be undone.")&&(i(i=>i.filter(i=>i.id!==e)),q("Service deleted successfully"))},D=t=>{i(e=>e.map(e=>e.id===t?{...e,isActive:!e.isActive}:e));let a=e.find(e=>e.id===t);a&&q('Service "'.concat(a.name,'" ').concat(a.isActive?"deactivated":"activated"," successfully"))},z=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];return(0,a.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Services"}),(0,a.jsx)(s.default,{href:"/vendor/dashboard",className:"text-sm text-blue-600 hover:text-blue-800",children:" ← Back to Dashboard "})]}),P&&(0,a.jsxs)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[" ",(0,a.jsx)("span",{className:"block sm:inline",children:P})," "]}),x&&!t&&(0,a.jsxs)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[" ",(0,a.jsxs)("span",{className:"block sm:inline",children:["Error loading services: ",x]})," "]}),j?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8 border border-blue-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b bg-gray-50",children:[" ",(0,a.jsx)("h2",{className:"font-semibold text-lg",children:v?"Edit Service":"Add New Service"})," "]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!O())return;_(!0),q("");let a=parseFloat(w.price);console.log("Submitting Service Data (Simulation):",{...w,price:isNaN(a)?0:a,availability:JSON.stringify(w.availability),images:w.image_url||null}),setTimeout(()=>{if(v)i(e=>e.map(e=>e.id===v.id?{...e,name:w.name,description:w.description,price:parseFloat(w.price),type:w.type,images:w.image_url||null,image_url:w.image_url||void 0,availability:JSON.stringify(w.availability),parsedAvailability:w.availability}:e)),q('Service "'.concat(w.name,'" updated successfully!'));else{let t={id:Math.max(0,...e.map(e=>e.id))+1,name:w.name,description:w.description,price:parseFloat(w.price),image_url:w.image_url||void 0,images:w.image_url||null,availability:JSON.stringify(w.availability),parsedAvailability:w.availability,isActive:!0,type:w.type,provider_id:1,island_id:2,amenities:null,cancellation_policy:null,bookings:0,rating:void 0};i(e=>[...e,t]),q('New service "'.concat(w.name,'" added successfully!'))}_(!1),N(!1)},1e3)},noValidate:!0,children:[(0,a.jsxs)("div",{className:"mb-4",children:[" ",(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" Name* "})," ",(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:w.name,onChange:T,className:"w-full border ".concat(S.name?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",S.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.name})," "]}),(0,a.jsxs)("div",{className:"mb-4",children:[" ",(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" Description* "})," ",(0,a.jsx)("textarea",{id:"description",name:"description",value:w.description,onChange:T,rows:3,className:"w-full border ".concat(S.description?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",S.description&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.description})," "]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:" Price (₹)* "})," ",(0,a.jsx)("input",{type:"number",id:"price",name:"price",value:w.price,onChange:T,min:"0",step:"0.01",className:"w-full border ".concat(S.price?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",S.price&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.price})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" Service Type* "})," ",(0,a.jsxs)("select",{id:"type",name:"type",value:w.type,onChange:T,required:!0,className:"w-full border ".concat(S.type?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500 bg-white"),children:[" ",(0,a.jsx)("option",{value:"activity",children:"Activity"})," ",(0,a.jsx)("option",{value:"accommodation",children:"Accommodation"})," ",(0,a.jsx)("option",{value:"transport",children:"Transport"})," ",(0,a.jsx)("option",{value:"tour",children:"Tour Package"})," ",(0,a.jsx)("option",{value:"other",children:"Other"})," "]})," ",S.type&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.type})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("label",{htmlFor:"image_url",className:"block text-sm font-medium text-gray-700 mb-1",children:" Image URL "})," ",(0,a.jsx)("input",{type:"url",id:"image_url",name:"image_url",value:w.image_url,onChange:T,placeholder:"https://...",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})," "]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" Availability* ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"(Select available time slots)"})," "]}),S.availability&&(0,a.jsx)("p",{className:"mb-2 text-sm text-red-600",children:S.availability}),(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md overflow-hidden",children:[" ",(0,a.jsxs)("div",{className:"overflow-x-auto",children:[" ",(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[" ",(0,a.jsxs)("thead",{className:"bg-gray-50",children:[" ",(0,a.jsxs)("tr",{children:[" ",(0,a.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-500 uppercase sticky left-0 bg-gray-50 z-10",children:" Day "})," ",z.map(e=>(0,a.jsxs)("th",{className:"px-1 py-2 text-center font-medium text-gray-500 uppercase whitespace-nowrap",children:[" ",e.replace(" AM","a").replace(" PM","p")," "]},e))," "]})," "]})," ",(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[" ",["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,a.jsxs)("tr",{children:[" ",(0,a.jsxs)("td",{className:"px-2 py-2 whitespace-nowrap font-medium text-gray-900 sticky left-0 bg-white z-10",children:[" ",e," "]})," ",z.map(i=>(0,a.jsxs)("td",{className:"px-1 py-2 whitespace-nowrap text-center",children:[" ",(0,a.jsx)("input",{type:"checkbox",checked:E(e,i),onChange:t=>C(e,i,t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})," "]},"".concat(e,"-").concat(i)))," "]},e))," "]})," "]})," "]})," "]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[" ",(0,a.jsx)("button",{type:"button",onClick:()=>{N(!1),f(null),A({})},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm",children:" Cancel "})," ",(0,a.jsxs)("button",{type:"submit",disabled:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm disabled:opacity-50 flex items-center",children:[" ",M&&(0,a.jsx)(d.Z,{className:"animate-spin h-4 w-4 mr-2"})," ",M?"Saving...":v?"Update Service":"Add Service"," "]})," "]})]})})]}):(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:()=>{k({name:"",description:"",price:"",image_url:"",availability:[],type:"activity"}),f(null),N(!0),A({}),q("")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:" + Add New Service "})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b bg-gray-50",children:[" ",(0,a.jsx)("h2",{className:"font-semibold",children:"Your Services"})," "]}),t?(0,a.jsx)(y,{text:"Loading your services..."}):0===e.length?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500",children:" You haven't added any services yet. "}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Service "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Price "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Status "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Bookings "}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Actions "})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var i;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-gray-100 rounded-md flex-shrink-0 mr-3 flex items-center justify-center",children:e.image_url?(0,a.jsx)(l.default,{src:e.image_url,alt:e.name,width:40,height:40,className:"object-cover rounded-md",onError:e=>{e.target.style.display="none"}}):(0,a.jsx)(n.Z,{size:20,className:"text-gray-400"})}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})," ",(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description||"No description"})," "]})]})}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[" ","number"==typeof e.price?"₹".concat(e.price.toLocaleString("en-IN")):e.price," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[" ",(0,a.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(h(e.isActive)),children:[" ",e.isActive?"Active":"Inactive"," "]})," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:[" ",null!==(i=e.bookings)&&void 0!==i?i:"N/A"," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3",children:[" ",(0,a.jsx)("button",{onClick:()=>F(e),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:(0,a.jsx)(o,{size:16})})," ",(0,a.jsxs)("button",{onClick:()=>D(e.id),className:e.isActive?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900",title:e.isActive?"Deactivate":"Activate",children:[" ",e.isActive?(0,a.jsx)(m,{size:16}):(0,a.jsx)(u,{size:16})," "]})," ",(0,a.jsx)("button",{onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,a.jsx)(p,{size:16})})," "]})]},e.id)})})]})})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[" ",(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-800 mb-4",children:"Service Management Tips"})," ",(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700 list-disc list-inside",children:[" ",(0,a.jsx)("li",{children:"Keep descriptions clear and accurate."})," ",(0,a.jsx)("li",{children:"Ensure availability is up-to-date to avoid conflicts."})," ",(0,a.jsx)("li",{children:"Upload high-quality images to attract customers."})," ",(0,a.jsx)("li",{children:"Respond promptly to booking inquiries."})," "]})," "]})]})})}}},function(e){e.O(0,[451,145,971,117,744],function(){return e(e.s=4076)}),_N_E=e.O()}]);