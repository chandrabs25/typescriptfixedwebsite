(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{897:function(e,t,s){Promise.resolve().then(s.bind(s,7133))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7133:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(7437),r=s(2265),n=s(9376),i=s(3145),l=s(7648),c=s(5863),o=s(3639),d=s(3774),u=s(3245),h=s(9889);let m=()=>(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Loading destination..."})]});function x(){var e,t;let s=(0,n.useParams)().id,{data:r,error:c,status:x}=(0,h.i)(s?"/api/destinations/".concat(s):null),f=null==r?void 0:r.data,p=(null==f?void 0:null===(t=f.images)||void 0===t?void 0:null===(e=t.split(",")[0])||void 0===e?void 0:e.trim())||"/images/placeholder.jpg",b=[];if(null==f?void 0:f.attractions)try{b=JSON.parse(f.attractions)}catch(e){b=f.attractions.split(",").map(e=>e.trim()).filter(e=>e)}let g=[];if(null==f?void 0:f.activities)try{g=JSON.parse(f.activities)}catch(e){g=f.activities.split(",").map(e=>e.trim()).filter(e=>e)}let j=(null==f?void 0:f.bestTimeToVisit)||"October to May",y=(null==f?void 0:f.howToReach)||"Varies (Ferry/Flight)";return"loading"===x?(0,a.jsx)(m,{}):"error"===x?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-red-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-4",children:"Error Loading Destination"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:(null==c?void 0:c.message)||"Could not fetch destination details."}),(0,a.jsx)(l.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]}):"success"!==x||f?f?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsxs)("div",{className:"relative h-[50vh] w-full",children:[(0,a.jsx)(i.default,{src:p,alt:f.name,fill:!0,style:{objectFit:"cover"},priority:!0,onError:e=>e.currentTarget.src="/images/placeholder.jpg"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:[" ",(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center px-4",children:f.name})," "]})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["About ",f.name]}),(0,a.jsxs)("p",{className:"text-gray-700 mb-6 whitespace-pre-line",children:[" ",f.description||"No detailed description available."," "]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[b.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Highlights / Attractions"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:b.map((e,t)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},"att-".concat(t)))})]}),g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Popular Activities"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:g.map((e,t)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},"act-".concat(t)))})]})]}),1===f.permit_required&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-yellow-800 mb-1",children:[" ",(0,a.jsx)(u.Z,{size:18,className:"inline mr-1 mb-0.5"})," Permit Required"]}),(0,a.jsxs)("p",{className:"text-yellow-700 text-sm",children:[" ",f.permit_details||"A permit is required to visit this area. Please arrange in advance."," "]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Best Time to Visit"})," ",(0,a.jsx)("p",{className:"text-gray-700",children:j})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"How to Reach"})," ",(0,a.jsx)("p",{className:"text-gray-700",children:y})," "]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Packages Including ",f.name]}),(0,a.jsxs)("p",{className:"text-gray-700 mb-4",children:["Explore our curated packages that feature visits to ",f.name,"."]}),(0,a.jsxs)("div",{className:"mt-4",children:[" ",(0,a.jsx)(l.default,{href:"/packages?destination=".concat(s),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 inline-block",children:" View Related Packages "})," "]})]})]})]}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Data Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Could not display booking details. Please try refreshing."}),(0,a.jsx)(l.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Destination Not Found"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-6",children:["The destination you are looking for (ID: ",s,") does not exist or is unavailable."]}),(0,a.jsx)(l.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]})}function f(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(m,{}),children:(0,a.jsx)(x,{})})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return r},q:function(){return n}});var a=s(2265);function r(e,t){let[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[l,c]=(0,a.useState)("idle"),o=JSON.stringify(t);return(0,a.useEffect)(()=>{(async()=>{if(!e){c("idle"),r(null),i(null);return}c("loading"),r(null),i(null);try{let t;let s=JSON.parse(o||"{}"),a=await fetch(e,{...s,credentials:"include"});try{t=await a.json()}catch(e){throw Error("Request failed with status ".concat(a.status," and non-JSON response."))}if(!a.ok){let e=(null==t?void 0:t.message)||a.statusText||"HTTP error! Status: ".concat(a.status);throw Error(e)}if(t.success)void 0!==t.data?(r(t.data),c("success")):(r(null),c("success"),console.warn("Fetch successful but no data returned for URL: ".concat(e)));else throw Error(t.message||"API returned success: false")}catch(t){console.error("Fetch error for URL ".concat(e,":"),t),i(t instanceof Error?t:Error("Unknown fetch error occurred")),c("error")}})()},[e,o]),{data:s,error:n,status:l,isLoading:"loading"===l}}function n(e){let[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[i,l]=(0,a.useState)("idle");return{submit:async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";l("loading"),s(null),n(null);try{let r;let n=await fetch(e,{method:a,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t),credentials:"include"});try{r=await n.json()}catch(e){throw console.error("Failed to parse JSON response:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(n.ok&&r.success){if(void 0!==r.data)return s(r.data),l("success"),{success:!0,data:r.data};return s(null),l("success"),console.warn("Submit successful but no data returned for URL: ".concat(e)),{success:!0,data:null}}throw Error(r.message||"API Error: Status ".concat(n.status))}catch(t){console.error("Submit error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return n(Error(e)),l("error"),{success:!1,error:e}}},data:t,error:r,status:i,isLoading:"loading"===i,reset:()=>{s(null),n(null),l("idle")}}}}},function(e){e.O(0,[451,145,971,117,744],function(){return e(e.s=897)}),_N_E=e.O()}]);