(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4992:function(e,s,t){Promise.resolve().then(t.t.bind(t,9974,23)),Promise.resolve().then(t.t.bind(t,2778,23)),Promise.resolve().then(t.bind(t,9573))},9573:function(e,s,t){"use strict";t.d(s,{Providers:function(){return k}});var a=t(7437),r=t(2265),l=t(4603),n=t(7648),i=t(3145),o=t(9376),c=t(3247),d=t(9801),h=t(7692),x=t(2489),u=t(6840),m=()=>{let[e,s]=(0,r.useState)(!1),t=(0,o.usePathname)(),{isAuthenticated:m,user:g,isLoading:f,logout:p}=(0,l.a)(),j=()=>{s(!1)},b=()=>{p(),j()},v=[{name:"Home",href:"/"},{name:"Destinations",href:"/destinations"},{name:"Packages",href:"/packages"},{name:"Activities",href:"/activities"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}];return(0,a.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 md:py-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(n.default,{href:"/",className:"inline-block",onClick:j,children:(0,a.jsx)(i.default,{src:"/images/logo.jpg",alt:"Reach Andaman Logo",width:1171,height:455,className:"h-8 md:h-10 w-auto",priority:!0})})}),(0,a.jsx)("nav",{className:"hidden md:flex space-x-6 lg:space-x-8",children:v.map(e=>(0,a.jsx)(n.default,{href:e.href,className:"text-sm lg:text-base font-medium text-gray-600 hover:text-blue-600 transition-colors ".concat(t===e.href?"text-blue-600 border-b-2 border-blue-600":""),children:e.name},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-4",children:[(0,a.jsxs)("button",{className:"text-gray-500 hover:text-blue-600 p-1",children:[(0,a.jsx)("span",{className:"sr-only",children:"Search"}),(0,a.jsx)(c.Z,{size:20})]}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:f?(0,a.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-blue-500 border-t-transparent animate-spin"}):m?(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(null==g?void 0:g.role_id)===3&&(0,a.jsx)(n.default,{href:"/vendor/dashboard",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors",children:"Vendor Area"}),(0,a.jsxs)(n.default,{href:"/user/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",title:"My Account",children:[(0,a.jsx)(d.Z,{size:20}),(0,a.jsx)("span",{className:"sr-only",children:"Profile"})]}),(0,a.jsxs)("button",{onClick:b,className:"text-sm text-gray-600 hover:text-red-600 transition-colors flex items-center",title:"Logout",children:[(0,a.jsx)(h.Z,{size:18,className:"mr-1"}),(0,a.jsx)("span",{className:"hidden lg:inline",children:"Logout"})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.default,{href:"/auth/signup",className:"text-sm font-medium text-blue-600 hover:text-blue-800 px-3 py-1.5 rounded-md hover:bg-blue-50 transition-colors",children:"Sign Up"}),(0,a.jsx)(n.default,{href:"/auth/signin",className:"text-sm font-medium bg-blue-600 text-white px-4 py-1.5 rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:"Sign In"})]})}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("button",{onClick:()=>{s(!e)},className:"text-gray-600 hover:text-blue-600 p-1",children:[(0,a.jsx)("span",{className:"sr-only",children:"Toggle Menu"}),e?(0,a.jsx)(x.Z,{size:24}):(0,a.jsx)(u.Z,{size:24})]})})]})]}),e&&(0,a.jsxs)("div",{className:"md:hidden absolute top-full left-0 w-full bg-white shadow-lg border-t border-gray-200 z-40",children:[(0,a.jsxs)("nav",{className:"flex flex-col px-4 py-4 space-y-2",children:[" ",v.map(e=>(0,a.jsx)(n.default,{href:e.href,className:"block px-3 py-2 rounded-md text-base font-medium ".concat(t===e.href?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),onClick:j,children:e.name},e.name)),(0,a.jsx)("div",{className:"pt-4 pb-2 border-t border-gray-200",children:f?(0,a.jsx)("div",{className:"flex justify-center py-2",children:(0,a.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-blue-500 border-t-transparent animate-spin"})}):m?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:["Welcome, ",(null==g?void 0:g.first_name)||(null==g?void 0:g.email)]}),(null==g?void 0:g.role_id)===3&&(0,a.jsx)(n.default,{href:"/vendor/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:"Vendor Dashboard"}),(0,a.jsx)(n.default,{href:"/user/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:"My Account"}),(0,a.jsx)(n.default,{href:"/user/bookings",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:"My Bookings"}),(0,a.jsx)("button",{onClick:b,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50 hover:text-red-700",children:"Logout"})]}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.default,{href:"/auth/signin",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:"Sign In"}),(0,a.jsx)(n.default,{href:"/auth/signup",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:"Sign Up"})]})})]})," "]})]})})},g=t(9219),f=t(7760),p=t(2351),j=t(3041),b=t(9345),v=()=>{let e=new Date().getFullYear();return(0,a.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Reach Andaman Travel"}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:"Your ultimate guide to exploring the beautiful Andaman Islands. We provide comprehensive travel information, booking services, and curated experiences."}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,a.jsx)(g.Z,{size:20})}),(0,a.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,a.jsx)(f.Z,{size:20})}),(0,a.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,a.jsx)(p.Z,{size:20})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/destinations",className:"text-gray-300 hover:text-white",children:"Destinations"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/packages",className:"text-gray-300 hover:text-white",children:"Travel Packages"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/activities",className:"text-gray-300 hover:text-white",children:"Activities"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/blog",className:"text-gray-300 hover:text-white",children:"Travel Blog"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/faq",className:"text-gray-300 hover:text-white",children:"FAQs"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"For Vendors"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/vendor/register",className:"text-gray-300 hover:text-white",children:"Register as Vendor"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/vendor/login",className:"text-gray-300 hover:text-white",children:"Vendor Login"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/vendor/how-it-works",className:"text-gray-300 hover:text-white",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/vendor/terms",className:"text-gray-300 hover:text-white",children:"Terms for Vendors"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{size:18,className:"mr-2"}),(0,a.jsx)("span",{className:"text-gray-300",children:"+91 99999999"})]}),(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{size:18,className:"mr-2"}),(0,a.jsx)("a",{href:"mailto:info@andamantravel.com",className:"text-gray-300 hover:text-white",children:"info@reachandaman.com"})]}),(0,a.jsx)("li",{className:"text-gray-300 mt-2",children:"Port Blair, Andaman and Nicobar Islands, India"})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[(0,a.jsxs)("p",{children:["\xa9 ",e," Reach Andaman Travel Platform. All rights reserved."]}),(0,a.jsxs)("div",{className:"mt-2 space-x-4",children:[(0,a.jsx)(n.default,{href:"/privacy-policy",className:"hover:text-white",children:"Privacy Policy"}),(0,a.jsx)(n.default,{href:"/terms-of-service",className:"hover:text-white",children:"Terms of Service"}),(0,a.jsx)(n.default,{href:"/refund-policy",className:"hover:text-white",children:"Refund Policy"})]})]})]})})},y=t(5922),N=t(4438);let w=e=>{let{...s}=e,{theme:t="system"}=(0,y.F)();return(0,a.jsx)(N.x7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};function k(e){let{children:s}=e;return(0,a.jsx)(l.H,{children:(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,a.jsx)(m,{})," ",(0,a.jsxs)("main",{className:"flex-grow",children:[s," "]}),(0,a.jsx)(v,{})," ",(0,a.jsx)(w,{position:"top-right",richColors:!0})," "]})})}},4603:function(e,s,t){"use strict";t.d(s,{H:function(){return i},a:function(){return o}});var a=t(7437),r=t(2265),l=t(9376);let n=(0,r.createContext)(void 0),i=e=>{let{children:s}=e,[t,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0),d=(0,l.useRouter)(),h=(0,r.useCallback)(async()=>{try{console.log("Checking auth state via /api/auth/me...");let e=await fetch("/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),s=await e.json();e.ok&&s.success&&s.data?(console.log("Auth check successful, user found:",s.data),i(s.data)):(console.log("Auth check failed or no user session found."),i(null))}catch(e){console.error("Error checking auth state:",e),i(null)}finally{c(!1)}},[]);(0,r.useEffect)(()=>{c(!0),h()},[h]);let x=(0,r.useCallback)(async(e,s)=>{c(!0);try{console.log("Attempting login with:",e);let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s}),credentials:"include"}),a=await t.json();if(t.ok&&a.success&&a.data)return console.log("Login successful:",a.data),i(a.data),c(!1),!0;return console.error("Login API failed:",a.message),i(null),c(!1),!1}catch(e){return console.error("Login fetch error:",e),i(null),c(!1),!1}},[]),u=(0,r.useCallback)(async(e,s,t)=>{c(!0);try{console.log("Attempting registration for:",s);let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:t})}),r=await a.json();if(a.ok&&r.success)return console.log("Registration successful",r.message),c(!1),{success:!0,message:r.message||"Registration successful!"};return console.error("Registration API failed:",r.message),c(!1),{success:!1,message:r.message||"Registration failed."}}catch(e){return console.error("Registration fetch error:",e),c(!1),{success:!1,message:"An unexpected error occurred."}}},[]),m=(0,r.useCallback)(async()=>{try{console.log("Logging out..."),await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){console.error("Logout API call failed:",e)}finally{i(null),console.log("Redirecting to signin page after logout."),d.push("/auth/signin")}},[d]);return(0,a.jsx)(n.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:o,login:x,register:u,logout:m,checkAuthState:h},children:s})},o=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2778:function(){}},function(e){e.O(0,[919,461,451,145,126,971,117,744],function(){return e(e.s=4992)}),_N_E=e.O()}]);