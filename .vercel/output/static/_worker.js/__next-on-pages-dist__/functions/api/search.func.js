var G=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(c,u)=>()=>(c&&(u=c(c=0)),u);var W=(c,u,T,x)=>{if(u&&typeof u=="object"||typeof u=="function")for(let m of Y(u))!Z.call(c,m)&&m!==T&&G(c,m,{get:()=>u[m],enumerable:!(x=V(u,m))||x.enumerable});return c},B=(c,u,T)=>(W(c,u,"default"),T&&W(T,u,"default"));var ne=c=>W(G({},"__esModule",{value:!0}),c);var M={};import*as En from"async_hooks";var J=ee(()=>{B(M,En)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/7528.js";import{__getNamedExports as se}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as re}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var g=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/search"),oe=te(g,g,g),ce=oe.__chunk_7528,z=se(g,g,g),ie=z.__chunk_9985,ue=z.__chunk_4155,s=re(g,g,g),de=s.__chunk_6195,pe=s.__chunk_2067,he=s.__chunk_9182,ge=s.__chunk_8983,ke=s.__chunk_5228,le=s.__chunk_2296,xe=s.__chunk_2594,me=s.__chunk_6735,fe=s.__chunk_8219,Ee=s.__chunk_5577,ye=s.__chunk_9254,be=s.__chunk_9206,ve=s.__chunk_989,Re=s.__chunk_1863,$e=s.__chunk_3039,Pe=s.__chunk_335,Oe=s.__chunk_8042,Ne=s.__chunk_7765,we=s.__chunk_6991,Ie=s.__chunk_8816,Se=s.__chunk_6631,Ke=s.__chunk_4828,Le=s.__chunk_4834,je=s.__chunk_828,Ce=s.__chunk_5927,Te=s.__chunk_8439,Ae=s.__chunk_4363,Fe=s.__chunk_2039,Me=s.__chunk_8264,Ue=s.__chunk_1583,qe=s.__chunk_7908,De=s.__chunk_8949,He=s.__chunk_796,We=s.__chunk_1651,Be=s.__chunk_5105,Xe=s.__chunk_9642,Ge=s.__chunk_5028,Je=s.__chunk_9548,ze=s.__chunk_6914,Qe=s.__chunk_7960,Ve=s.__chunk_4337,Ye=s.__chunk_8819,k=ae(g,g,g),Ze=k.__chunk_1730,en=k.__chunk_3818,nn=k.__chunk_7037,tn=k.__chunk_9573,sn=k.__chunk_7701,rn=k.__chunk_662,an=k.__chunk_4101,_n=k.__chunk_6776,on=k.__chunk_3665,cn=k.__chunk_7444,un=k.__chunk_4591,dn=k.__chunk_7983,pn=k.__chunk_5234,hn=k.__chunk_2561,gn=k.__chunk_2988,kn=k.__chunk_5996,ln=k.__chunk_676,Q=_e(g,g,g),xn=Q.__NEXT_FONT_MANIFEST,mn=Q.__REACT_LOADABLE_MANIFEST,Pn=((c,u,T)=>(u._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/fd9d1056-c9ed5066b0595dc4.js","static/chunks/30-d61876bacc5f7fe8.js","static/chunks/main-app-7952d10a904833a3.js"],pages:{"/_app":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/8V3TQEJtcpB3zmG4GiWhE/_buildManifest.js",,"/static/8V3TQEJtcpB3zmG4GiWhE/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=mn,c.__NEXT_FONT_MANIFEST=xn,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var x={},m={};function r(t){var i=m[t];if(i!==void 0)return i.exports;var o=m[t]={exports:{}},f=!0;try{x[t](o,o.exports,r),f=!1}finally{f&&delete m[t]}return o.exports}r.m=x,r.amdO={},(()=>{var t=[];r.O=(i,o,f,E)=>{if(o){E=E||0;for(var d=t.length;d>0&&t[d-1][2]>E;d--)t[d]=t[d-1];t[d]=[o,f,E];return}for(var h=1/0,d=0;d<t.length;d++){for(var[o,f,E]=t[d],v=!0,R=0;R<o.length;R++)h>=E&&Object.keys(r.O).every(K=>r.O[K](o[R]))?o.splice(R--,1):(v=!1,E<h&&(h=E));if(v){t.splice(d--,1);var P=f();P!==void 0&&(i=P)}}return i}})(),r.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return r.d(i,{a:i}),i},r.d=(t,i)=>{for(var o in i)r.o(i,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},r.e=()=>Promise.resolve(),r.g=function(){if(typeof u=="object")return u;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};r.O.j=f=>t[f]===0;var i=(f,E)=>{var d,h,[v,R,P]=E,I=0;if(v.some(A=>t[A]!==0)){for(d in R)r.o(R,d)&&(r.m[d]=R[d]);if(P)var S=P(r)}for(f&&f(E);I<v.length;I++)h=v[I],r.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return r.O(S)},o=c.webpackChunk_N_E=c.webpackChunk_N_E||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[720],{8819:Ye,4337:Ve,7960:Qe,6914:ze,9548:Je,5028:Ge,9642:Xe,5105:Be,1651:We,796:He,8949:De,7908:qe,1583:Ue,8264:Me,2039:Fe,4363:Ae,8439:Te,5927:Ce,828:je,4834:Le,4828:Ke,6631:Se,8816:Ie,6991:we,7765:Ne,8042:Oe,335:Pe,3039:$e,1863:Re,989:ve,9206:be,9254:ye,5577:Ee,8219:fe,6735:me,2594:xe,2296:le,5228:ke,8983:ge,9182:he}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[883],{676:ln,5996:kn,2988:gn,2561:hn,5234:pn,7983:dn,4591:un,7444:cn,3665:on,6776:_n,4101:an,662:rn,7701:sn,9573:tn,7037:nn,3818:en,1730:Ze}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[280],{2067:pe,6195:de,9852:(x,m,r)=>{"use strict";r.r(m),r.d(m,{ComponentMod:()=>D,default:()=>H});var t={};r.r(t),r.d(t,{GET:()=>P,POST:()=>I,runtime:()=>R});var i={};r.r(i),r.d(i,{originalPathname:()=>U,patchFetch:()=>q,requestAsyncStorage:()=>A,routeModule:()=>S,serverHooks:()=>K,staticGenerationAsyncStorage:()=>C});var o=r(7983),f=r(2561),E=r(4828),d=r(6631),h=r(9985),v=r(7528);let R="edge";async function P(F){try{let y=F.nextUrl.searchParams,p=y.get("q")?.trim(),$=y.get("type")||"all";if(!p)return h.xk.json({success:!1,message:"Search query (q parameter) is required",data:[]},{status:400});let l=(0,v.N)(),e=[],_=`%${p}%`;if($==="all"||$==="destinations"){let n=await l.prepare("SELECT id, name, description FROM islands WHERE name LIKE ?1 OR description LIKE ?1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"destinations",items:n.results})}if($==="all"||$==="packages"){let n=await l.prepare("SELECT id, name, description, base_price, duration FROM packages WHERE (name LIKE ?1 OR description LIKE ?1) AND is_active = 1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"packages",items:n.results})}if($==="all"||$==="services"){let n=await l.prepare("SELECT s.id, s.name, s.description, s.island_id, i.name as island_name FROM services s JOIN islands i ON s.island_id = i.id WHERE s.name LIKE ?1 OR s.description LIKE ?1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"services",items:n.results})}return h.xk.json({success:!0,message:"Search results retrieved successfully",data:e})}catch(y){console.error("Search error (GET):",y);let p=y instanceof Error?y.message:"An unknown error occurred";return h.xk.json({success:!1,message:"Error performing search",error:p,data:[]},{status:500})}}async function I(F){try{let{query:y,type:p="all"}=await F.json(),$=y?.trim();if(!$)return h.xk.json({success:!1,message:"Search query is required in the request body",data:[]},{status:400});let l=(0,v.N)(),e=[],_=`%${$}%`;if(p==="all"||p==="destinations"){let n=await l.prepare("SELECT id, name, description FROM islands WHERE name LIKE ?1 OR description LIKE ?1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"destinations",items:n.results})}if(p==="all"||p==="packages"){let n=await l.prepare("SELECT id, name, description, base_price, duration FROM packages WHERE (name LIKE ?1 OR description LIKE ?1) AND is_active = 1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"packages",items:n.results})}if(p==="all"||p==="services"){let n=await l.prepare("SELECT s.id, s.name, s.description, s.island_id, i.name as island_name FROM services s JOIN islands i ON s.island_id = i.id WHERE s.name LIKE ?1 OR s.description LIKE ?1").bind(_).all();n.results&&n.results.length>0&&e.push({type:"services",items:n.results})}return h.xk.json({success:!0,message:"Search results retrieved successfully",data:e})}catch(y){console.error("Search error (POST):",y);let p=y instanceof Error?y.message:"An unknown error occurred";return h.xk.json({success:!1,message:"Error performing search",error:p,data:[]},{status:500})}}let S=new f.AppRouteRouteModule({definition:{kind:E.x.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"/home/chandra/andaman_website_CLI/andaman website CLI/src/app/api/search/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:A,staticGenerationAsyncStorage:C,serverHooks:K}=S,U="/api/search/route";function q(){return(0,d.XH)({serverHooks:K,staticGenerationAsyncStorage:C})}let D=i,H=o.a.wrap(S)},4155:ue,9985:ie,7528:ce},x=>{var m=t=>x(x.s=t);x.O(0,[720,883],()=>m(9852));var r=x.O();(u._ENTRIES=typeof u._ENTRIES>"u"?{}:u._ENTRIES)["middleware_app/api/search/route"]=r}]),function(){let x={exports:{},loaded:!1};return function(r,t){var i=Object.create,o=Object.defineProperty,f=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,d=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,v=e=>o(e,"__esModule",{value:!0}),R=(e,_)=>{v(e);for(var n in _)o(e,n,{get:_[n],enumerable:!0})},P=(e,_,n)=>{if(_&&typeof _=="object"||typeof _=="function")for(let a of E(_))!h.call(e,a)&&a!=="default"&&o(e,a,{get:()=>_[a],enumerable:!(n=f(_,a))||n.enumerable});return e},I=e=>P(v(o(e!=null?i(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);R(t,{default:()=>y});var S=I((J(),ne(M))),A="@next/request-context",C=Symbol.for(A),K=Symbol.for("internal.storage");function U(){let e=u;if(!e[C]){let _=new S.AsyncLocalStorage,n={get:()=>_.getStore(),[K]:_};e[C]=n}return e[C]}var q=U();function D(e,_){return q[K].run(e,_)}function H(e){let _={};return e&&e.forEach((n,a)=>{_[a]=n,a.toLowerCase()==="set-cookie"&&(_[a]=F(n))}),_}function F(e){let _=[],n=0,a,O,b,L,j;function N(){for(;n<e.length&&/\s/.test(e.charAt(n));)n+=1;return n<e.length}function w(){return O=e.charAt(n),O!=="="&&O!==";"&&O!==","}for(;n<e.length;){for(a=n,j=!1;N();)if(O=e.charAt(n),O===","){for(b=n,n+=1,N(),L=n;n<e.length&&w();)n+=1;n<e.length&&e.charAt(n)==="="?(j=!0,n=L,_.push(e.substring(a,b)),a=n):n=b+1}else n+=1;(!j||n>=e.length)&&_.push(e.substring(a,e.length))}return _}function y(e){let _=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),n=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,O){let b=new URL(a.url).pathname,L={};if(e.nextConfig?.basePath&&b.startsWith(e.nextConfig.basePath)&&(b=b.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let N of e.nextConfig.i18n.locales){let w=new RegExp(`^/${N}($|/)`,"i");if(b.match(w)){b=b.replace(w,"/")||"/";break}}for(let N of _)if(N.regexp.exec(b)){L.name=N.page;break}if(!L.name){let N=$(b);for(let w of n||[]){if(N&&!$(w.page))continue;let X=w.regexp.exec(b);if(X){L={name:w.page,params:X.groups};break}}}let j=await D({waitUntil:O.waitUntil},()=>u._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:H(a.headers),ip:p(a.headers,l.Ip),geo:{city:p(a.headers,l.City,!0),country:p(a.headers,l.Country,!0),latitude:p(a.headers,l.Latitude),longitude:p(a.headers,l.Longitude),region:p(a.headers,l.Region,!0)},nextConfig:e.nextConfig,page:L,body:a.body}}));return j.waitUntil&&O.waitUntil(j.waitUntil),j.response}}function p(e,_,n=!1){let a=e.get(_)||void 0;return n&&a?decodeURIComponent(a):a}function $(e){return e==="/api"||e.startsWith("/api/")}var l;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(l||(l={}))}(x,x.exports),x.exports}.call({}).default({name:"app/api/search/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(g,g,g);export{Pn as default};
