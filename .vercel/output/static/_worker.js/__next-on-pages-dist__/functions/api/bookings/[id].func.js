var Y=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var ne=(a,i)=>()=>(a&&(i=a(a=0)),i);var H=(a,i,K,m)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of Z(i))!ee.call(a,l)&&l!==K&&Y(a,l,{get:()=>i[l],enumerable:!(m=V(i,l))||m.enumerable});return a},G=(a,i,K)=>(H(a,i,"default"),K&&H(K,i,"default"));var te=a=>H(Y({},"__esModule",{value:!0}),a);var L={};import*as Un from"async_hooks";var z=ne(()=>{G(L,Un)});import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/7528.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/d7a3494d4c6574a4ef4f5f60c456df00.js";import{__getNamedExports as se}from"../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ce}from"../../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as ae}from"../../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as re}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var d=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/bookings/[id]"),ue=_e(d,d,d),ie=ue.__chunk_7528,g=oe(d,d,d),de=g.__chunk_230,he=g.__chunk_219,ke=g.__chunk_7269,ge=g.__chunk_8312,pe=g.__chunk_2967,xe=g.__chunk_6178,me=g.__chunk_7511,le=g.__chunk_212,fe=g.__chunk_8713,be=g.__chunk_4181,ye=g.__chunk_7190,ve=g.__chunk_2265,Ee=g.__chunk_7393,$e=g.__chunk_8540,Re=g.__chunk_3932,Pe=g.__chunk_7391,Ne=g.__chunk_7442,we=g.__chunk_5763,Oe=g.__chunk_6753,t=se(d,d,d),je=t.__chunk_6195,Ie=t.__chunk_2067,Ae=t.__chunk_9182,Te=t.__chunk_8983,Ce=t.__chunk_5228,Ke=t.__chunk_2296,Se=t.__chunk_2594,Fe=t.__chunk_6735,Le=t.__chunk_8219,Me=t.__chunk_5577,De=t.__chunk_9254,Ue=t.__chunk_9206,Be=t.__chunk_989,qe=t.__chunk_1863,Xe=t.__chunk_3039,He=t.__chunk_335,Ge=t.__chunk_8042,We=t.__chunk_7765,Ye=t.__chunk_6991,ze=t.__chunk_8816,Je=t.__chunk_6631,Qe=t.__chunk_4828,Ve=t.__chunk_4834,Ze=t.__chunk_828,en=t.__chunk_5927,nn=t.__chunk_8439,tn=t.__chunk_4363,_n=t.__chunk_2039,on=t.__chunk_8264,sn=t.__chunk_1583,cn=t.__chunk_7908,an=t.__chunk_8949,rn=t.__chunk_796,un=t.__chunk_1651,dn=t.__chunk_5105,hn=t.__chunk_9642,kn=t.__chunk_5028,gn=t.__chunk_9548,pn=t.__chunk_6914,xn=t.__chunk_7960,mn=t.__chunk_4337,ln=t.__chunk_8819,J=ce(d,d,d),fn=J.__chunk_9985,bn=J.__chunk_4155,p=ae(d,d,d),yn=p.__chunk_1730,vn=p.__chunk_3818,En=p.__chunk_7037,$n=p.__chunk_9573,Rn=p.__chunk_7701,Pn=p.__chunk_662,Nn=p.__chunk_4101,wn=p.__chunk_6776,On=p.__chunk_3665,jn=p.__chunk_7444,In=p.__chunk_4591,An=p.__chunk_7983,Tn=p.__chunk_5234,Cn=p.__chunk_2561,Kn=p.__chunk_2988,Sn=p.__chunk_5996,Fn=p.__chunk_676,Q=re(d,d,d),Ln=Q.__NEXT_FONT_MANIFEST,Mn=Q.__REACT_LOADABLE_MANIFEST,Yn=((a,i,K)=>(i._ENTRIES={},a.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/fd9d1056-c9ed5066b0595dc4.js","static/chunks/30-d61876bacc5f7fe8.js","static/chunks/main-app-7952d10a904833a3.js"],pages:{"/_app":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},a.__BUILD_MANIFEST.lowPriorityFiles=["/static/8V3TQEJtcpB3zmG4GiWhE/_buildManifest.js",,"/static/8V3TQEJtcpB3zmG4GiWhE/_ssgManifest.js"],a.__REACT_LOADABLE_MANIFEST=Mn,a.__NEXT_FONT_MANIFEST=Ln,a.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var m={},l={};function o(n){var u=l[n];if(u!==void 0)return u.exports;var r=l[n]={exports:{}},f=!0;try{m[n](r,r.exports,o),f=!1}finally{f&&delete l[n]}return r.exports}o.m=m,o.amdO={},(()=>{var n=[];o.O=(u,r,f,b)=>{if(r){b=b||0;for(var h=n.length;h>0&&n[h-1][2]>b;h--)n[h]=n[h-1];n[h]=[r,f,b];return}for(var k=1/0,h=0;h<n.length;h++){for(var[r,f,b]=n[h],$=!0,E=0;E<r.length;E++)k>=b&&Object.keys(o.O).every(C=>o.O[C](r[E]))?r.splice(E--,1):($=!1,b<k&&(k=b));if($){n.splice(h--,1);var N=f();N!==void 0&&(u=N)}}return u}})(),o.n=n=>{var u=n&&n.__esModule?()=>n.default:()=>n;return o.d(u,{a:u}),u},o.d=(n,u)=>{for(var r in u)o.o(u,r)&&!o.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:u[r]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof i=="object")return i;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(n,u)=>Object.prototype.hasOwnProperty.call(n,u),o.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={993:0};o.O.j=f=>n[f]===0;var u=(f,b)=>{var h,k,[$,E,N]=b,j=0;if($.some(F=>n[F]!==0)){for(h in E)o.o(E,h)&&(o.m[h]=E[h]);if(N)var S=N(o)}for(f&&f(b);j<$.length;j++)k=$[j],o.o(n,k)&&n[k]&&n[k][0](),n[k]=0;return o.O(S)},r=a.webpackChunk_N_E=a.webpackChunk_N_E||[];r.forEach(u.bind(null,0)),r.push=u.bind(null,r.push.bind(r))})()})(),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[720],{8819:ln,4337:mn,7960:xn,6914:pn,9548:gn,5028:kn,9642:hn,5105:dn,1651:un,796:rn,8949:an,7908:cn,1583:sn,8264:on,2039:_n,4363:tn,8439:nn,5927:en,828:Ze,4834:Ve,4828:Qe,6631:Je,8816:ze,6991:Ye,7765:We,8042:Ge,335:He,3039:Xe,1863:qe,989:Be,9206:Ue,9254:De,5577:Me,8219:Le,6735:Fe,2594:Se,2296:Ke,5228:Ce,8983:Te,9182:Ae}]),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[883],{676:Fn,5996:Sn,2988:Kn,2561:Cn,5234:Tn,7983:An,4591:In,7444:jn,3665:On,6776:wn,4101:Nn,662:Pn,7701:Rn,9573:$n,7037:En,3818:vn,1730:yn}]),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[406],{4155:bn,9985:fn,6753:Oe,5763:we,7442:Ne,7391:Pe,3932:Re,8540:$e,7393:Ee,2265:ve,7190:ye,4181:be,8713:fe,212:le,7511:me,6178:xe,2967:pe,8312:ge,7269:ke,219:he}]),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[570],{2067:Ie,6195:je,7448:(m,l,o)=>{"use strict";o.r(l),o.d(l,{ComponentMod:()=>q,default:()=>X});var n={};o.r(n),o.d(n,{DELETE:()=>F,GET:()=>j,PUT:()=>S,runtime:()=>N});var u={};o.r(u),o.d(u,{originalPathname:()=>U,patchFetch:()=>B,requestAsyncStorage:()=>C,routeModule:()=>I,serverHooks:()=>D,staticGenerationAsyncStorage:()=>M});var r=o(7983),f=o(2561),b=o(4828),h=o(6631),k=o(9985),$=o(7528),E=o(230);let N="edge";async function j(P,{params:R}){try{let x=await(0,E.RA)(P);if(!x.isAuthenticated||!x.user)return k.xk.json({success:!1,message:"Authentication required to view booking details."},{status:401});let e=parseInt(x.user.id,10),c=R.id,_=parseInt(c,10);if(isNaN(_))return k.xk.json({success:!1,message:"Invalid booking ID format. Must be a number."},{status:400});let s=(0,$.N)(),y=await s.prepare("SELECT * FROM bookings WHERE id = ?").bind(_).first();return y?y.user_id!==e?(console.warn(`User ${e} attempted to access booking ${_} owned by user ${y.user_id}`),k.xk.json({success:!1,message:"You do not have permission to view this booking."},{status:403})):k.xk.json({success:!0,message:`Booking details for ID: ${_}`,data:y}):k.xk.json({success:!1,message:`Booking with ID ${_} not found.`},{status:404})}catch(x){console.error(`Error fetching booking with ID ${R.id}:`,x);let e=x instanceof Error?x.message:"An unknown error occurred";return k.xk.json({success:!1,message:"Failed to retrieve booking details",error:e,data:null},{status:500})}}async function S(P,{params:R}){return console.warn(`PUT /api/bookings/${R.id} is not fully implemented.`),k.xk.json({success:!1,message:`PUT method for booking ID ${R.id} not implemented yet.`,data:null},{status:501})}async function F(P,{params:R}){return console.warn(`DELETE /api/bookings/${R.id} is not fully implemented.`),k.xk.json({success:!1,message:`DELETE method for booking ID ${R.id} not implemented yet.`},{status:501})}let I=new f.AppRouteRouteModule({definition:{kind:b.x.APP_ROUTE,page:"/api/bookings/[id]/route",pathname:"/api/bookings/[id]",filename:"route",bundlePath:"app/api/bookings/[id]/route"},resolvedPagePath:"/home/chandra/andaman_website_CLI/andaman website CLI/src/app/api/bookings/[id]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:C,staticGenerationAsyncStorage:M,serverHooks:D}=I,U="/api/bookings/[id]/route";function B(){return(0,h.XH)({serverHooks:D,staticGenerationAsyncStorage:M})}let q=u,X=r.a.wrap(I)},230:de,7528:ie},m=>{var l=n=>m(m.s=n);m.O(0,[720,883,406],()=>l(7448));var o=m.O();(i._ENTRIES=typeof i._ENTRIES>"u"?{}:i._ENTRIES)["middleware_app/api/bookings/[id]/route"]=o}]),function(){let m={exports:{},loaded:!1};return function(o,n){var u=Object.create,r=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,h=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,$=e=>r(e,"__esModule",{value:!0}),E=(e,c)=>{$(e);for(var _ in c)r(e,_,{get:c[_],enumerable:!0})},N=(e,c,_)=>{if(c&&typeof c=="object"||typeof c=="function")for(let s of b(c))!k.call(e,s)&&s!=="default"&&r(e,s,{get:()=>c[s],enumerable:!(_=f(c,s))||_.enumerable});return e},j=e=>N($(r(e!=null?u(h(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);E(n,{default:()=>X});var S=j((z(),te(L))),F="@next/request-context",I=Symbol.for(F),C=Symbol.for("internal.storage");function M(){let e=i;if(!e[I]){let c=new S.AsyncLocalStorage,_={get:()=>c.getStore(),[C]:c};e[I]=_}return e[I]}var D=M();function U(e,c){return D[C].run(e,c)}function B(e){let c={};return e&&e.forEach((_,s)=>{c[s]=_,s.toLowerCase()==="set-cookie"&&(c[s]=q(_))}),c}function q(e){let c=[],_=0,s,y,v,A,T;function w(){for(;_<e.length&&/\s/.test(e.charAt(_));)_+=1;return _<e.length}function O(){return y=e.charAt(_),y!=="="&&y!==";"&&y!==","}for(;_<e.length;){for(s=_,T=!1;w();)if(y=e.charAt(_),y===","){for(v=_,_+=1,w(),A=_;_<e.length&&O();)_+=1;_<e.length&&e.charAt(_)==="="?(T=!0,_=A,c.push(e.substring(s,v)),s=_):_=v+1}else _+=1;(!T||_>=e.length)&&c.push(e.substring(s,e.length))}return c}function X(e){let c=e.staticRoutes.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page})),_=e.dynamicRoutes?.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page}))||[];return async function(s,y){let v=new URL(s.url).pathname,A={};if(e.nextConfig?.basePath&&v.startsWith(e.nextConfig.basePath)&&(v=v.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let O=new RegExp(`^/${w}($|/)`,"i");if(v.match(O)){v=v.replace(O,"/")||"/";break}}for(let w of c)if(w.regexp.exec(v)){A.name=w.page;break}if(!A.name){let w=R(v);for(let O of _||[]){if(w&&!R(O.page))continue;let W=O.regexp.exec(v);if(W){A={name:O.page,params:W.groups};break}}}let T=await U({waitUntil:y.waitUntil},()=>i._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:s.url,method:s.method,headers:B(s.headers),ip:P(s.headers,x.Ip),geo:{city:P(s.headers,x.City,!0),country:P(s.headers,x.Country,!0),latitude:P(s.headers,x.Latitude),longitude:P(s.headers,x.Longitude),region:P(s.headers,x.Region,!0)},nextConfig:e.nextConfig,page:A,body:s.body}}));return T.waitUntil&&y.waitUntil(T.waitUntil),T.response}}function P(e,c,_=!1){let s=e.get(c)||void 0;return _&&s?decodeURIComponent(s):s}function R(e){return e==="/api"||e.startsWith("/api/")}var x;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(x||(x={}))}(m,m.exports),m.exports}.call({}).default({name:"app/api/bookings/[id]/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(d,d,d);export{Yn as default};
