var W=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(c,i)=>()=>(c&&(i=c(c=0)),i);var X=(c,i,K,p)=>{if(i&&typeof i=="object"||typeof i=="function")for(let k of Q(i))!Z.call(c,k)&&k!==K&&W(c,k,{get:()=>i[k],enumerable:!(p=J(i,k))||p.enumerable});return c},H=(c,i,K)=>(X(c,i,"default"),K&&X(K,i,"default"));var ne=c=>X(W({},"__esModule",{value:!0}),c);var L={};import*as vn from"async_hooks";var V=ee(()=>{H(L,vn)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/7528.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as re}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as se}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var g=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/vendors"),ae=te(g,g,g),ce=ae.__chunk_7528,Y=_e(g,g,g),ue=Y.__chunk_9985,ie=Y.__chunk_4155,t=re(g,g,g),de=t.__chunk_6195,ge=t.__chunk_2067,he=t.__chunk_9182,pe=t.__chunk_8983,ke=t.__chunk_5228,xe=t.__chunk_2296,le=t.__chunk_2594,fe=t.__chunk_6735,me=t.__chunk_8219,ve=t.__chunk_5577,be=t.__chunk_9254,ye=t.__chunk_9206,Ee=t.__chunk_989,Re=t.__chunk_1863,$e=t.__chunk_3039,Pe=t.__chunk_335,Ne=t.__chunk_8042,we=t.__chunk_7765,Oe=t.__chunk_6991,Se=t.__chunk_8816,Ae=t.__chunk_6631,je=t.__chunk_4828,Ce=t.__chunk_4834,Te=t.__chunk_828,Ke=t.__chunk_5927,Ie=t.__chunk_8439,Fe=t.__chunk_4363,Le=t.__chunk_2039,Me=t.__chunk_8264,Ue=t.__chunk_1583,De=t.__chunk_7908,Be=t.__chunk_8949,qe=t.__chunk_796,Xe=t.__chunk_1651,He=t.__chunk_5105,Ge=t.__chunk_9642,We=t.__chunk_5028,Ve=t.__chunk_9548,Ye=t.__chunk_6914,ze=t.__chunk_7960,Je=t.__chunk_4337,Qe=t.__chunk_8819,h=oe(g,g,g),Ze=h.__chunk_1730,en=h.__chunk_3818,nn=h.__chunk_7037,tn=h.__chunk_9573,_n=h.__chunk_7701,rn=h.__chunk_662,on=h.__chunk_4101,sn=h.__chunk_6776,an=h.__chunk_3665,cn=h.__chunk_7444,un=h.__chunk_4591,dn=h.__chunk_7983,gn=h.__chunk_5234,hn=h.__chunk_2561,pn=h.__chunk_2988,kn=h.__chunk_5996,xn=h.__chunk_676,z=se(g,g,g),ln=z.__NEXT_FONT_MANIFEST,fn=z.__REACT_LOADABLE_MANIFEST,Pn=((c,i,K)=>(i._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/fd9d1056-c9ed5066b0595dc4.js","static/chunks/30-d61876bacc5f7fe8.js","static/chunks/main-app-7952d10a904833a3.js"],pages:{"/_app":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-dedf763cc1ab7e12.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-bc32f17986994602.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/8V3TQEJtcpB3zmG4GiWhE/_buildManifest.js",,"/static/8V3TQEJtcpB3zmG4GiWhE/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=fn,c.__NEXT_FONT_MANIFEST=ln,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var p={},k={};function r(n){var u=k[n];if(u!==void 0)return u.exports;var a=k[n]={exports:{}},x=!0;try{p[n](a,a.exports,r),x=!1}finally{x&&delete k[n]}return a.exports}r.m=p,r.amdO={},(()=>{var n=[];r.O=(u,a,x,l)=>{if(a){l=l||0;for(var d=n.length;d>0&&n[d-1][2]>l;d--)n[d]=n[d-1];n[d]=[a,x,l];return}for(var f=1/0,d=0;d<n.length;d++){for(var[a,x,l]=n[d],E=!0,v=0;v<a.length;v++)f>=l&&Object.keys(r.O).every(j=>r.O[j](a[v]))?a.splice(v--,1):(E=!1,l<f&&(f=l));if(E){n.splice(d--,1);var P=x();P!==void 0&&(u=P)}}return u}})(),r.n=n=>{var u=n&&n.__esModule?()=>n.default:()=>n;return r.d(u,{a:u}),u},r.d=(n,u)=>{for(var a in u)r.o(u,a)&&!r.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:u[a]})},r.e=()=>Promise.resolve(),r.g=function(){if(typeof i=="object")return i;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(n,u)=>Object.prototype.hasOwnProperty.call(n,u),r.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={993:0};r.O.j=x=>n[x]===0;var u=(x,l)=>{var d,f,[E,v,P]=l,S=0;if(E.some(I=>n[I]!==0)){for(d in v)r.o(v,d)&&(r.m[d]=v[d]);if(P)var A=P(r)}for(x&&x(l);S<E.length;S++)f=E[S],r.o(n,f)&&n[f]&&n[f][0](),n[f]=0;return r.O(A)},a=c.webpackChunk_N_E=c.webpackChunk_N_E||[];a.forEach(u.bind(null,0)),a.push=u.bind(null,a.push.bind(a))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[720],{8819:Qe,4337:Je,7960:ze,6914:Ye,9548:Ve,5028:We,9642:Ge,5105:He,1651:Xe,796:qe,8949:Be,7908:De,1583:Ue,8264:Me,2039:Le,4363:Fe,8439:Ie,5927:Ke,828:Te,4834:Ce,4828:je,6631:Ae,8816:Se,6991:Oe,7765:we,8042:Ne,335:Pe,3039:$e,1863:Re,989:Ee,9206:ye,9254:be,5577:ve,8219:me,6735:fe,2594:le,2296:xe,5228:ke,8983:pe,9182:he}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[883],{676:xn,5996:kn,2988:pn,2561:hn,5234:gn,7983:dn,4591:un,7444:cn,3665:an,6776:sn,4101:on,662:rn,7701:_n,9573:tn,7037:nn,3818:en,1730:Ze}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[871],{2067:ge,6195:de,4580:(p,k,r)=>{"use strict";r.r(k),r.d(k,{ComponentMod:()=>B,default:()=>q});var n={};r.r(n),r.d(n,{GET:()=>P,POST:()=>S,runtime:()=>v});var u={};r.r(u),r.d(u,{originalPathname:()=>U,patchFetch:()=>D,requestAsyncStorage:()=>I,routeModule:()=>A,serverHooks:()=>j,staticGenerationAsyncStorage:()=>T});var a=r(7983),x=r(2561),l=r(4828),d=r(6631),f=r(9985),E=r(7528);let v="edge";async function P(M){try{let C=(0,E.N)(),{searchParams:$}=new URL(M.url),F=$.get("type"),b=`
      SELECT
        id, user_id, business_name, type, address, verified, created_at, updated_at
        -- Select only necessary fields, exclude sensitive ones like bank_details, verification_documents, license_no unless needed
      FROM service_providers
      WHERE verified = 1 -- Fetch only verified vendors
    `,e=[],s=1;F&&(b+=` AND type = ?${s}`,e.push(F),s++),b+=" ORDER BY business_name ASC";let o=C.prepare(b).bind(...e),{results:_,success:R,error:m}=await o.all();if(!R)throw console.error("Failed to fetch vendors from D1:",m),Error("Database query failed");let N=(_||[]).map(y=>({id:y.id,business_name:y.business_name,type:y.type,address:y.address}));return f.xk.json({success:!0,message:"Vendors retrieved successfully",data:N})}catch(C){console.error("Error fetching vendors:",C);let $=C instanceof Error?C.message:"An unknown error occurred";return f.xk.json({success:!1,message:"Failed to retrieve vendors",error:$,data:[]},{status:500})}}async function S(M){return console.warn("POST /api/vendors is likely not the correct endpoint for vendor registration. Use a dedicated registration route."),f.xk.json({success:!1,message:"POST method not supported on this endpoint. Use vendor registration route.",data:null},{status:405})}let A=new x.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/vendors/route",pathname:"/api/vendors",filename:"route",bundlePath:"app/api/vendors/route"},resolvedPagePath:"/home/chandra/andaman_website_CLI/andaman website CLI/src/app/api/vendors/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:I,staticGenerationAsyncStorage:T,serverHooks:j}=A,U="/api/vendors/route";function D(){return(0,d.XH)({serverHooks:j,staticGenerationAsyncStorage:T})}let B=u,q=a.a.wrap(A)},4155:ie,9985:ue,7528:ce},p=>{var k=n=>p(p.s=n);p.O(0,[720,883],()=>k(4580));var r=p.O();(i._ENTRIES=typeof i._ENTRIES>"u"?{}:i._ENTRIES)["middleware_app/api/vendors/route"]=r}]),function(){let p={exports:{},loaded:!1};return function(r,n){var u=Object.create,a=Object.defineProperty,x=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,d=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,E=e=>a(e,"__esModule",{value:!0}),v=(e,s)=>{E(e);for(var o in s)a(e,o,{get:s[o],enumerable:!0})},P=(e,s,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let _ of l(s))!f.call(e,_)&&_!=="default"&&a(e,_,{get:()=>s[_],enumerable:!(o=x(s,_))||o.enumerable});return e},S=e=>P(E(a(e!=null?u(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);v(n,{default:()=>C});var A=S((V(),ne(L))),I="@next/request-context",T=Symbol.for(I),j=Symbol.for("internal.storage");function U(){let e=i;if(!e[T]){let s=new A.AsyncLocalStorage,o={get:()=>s.getStore(),[j]:s};e[T]=o}return e[T]}var D=U();function B(e,s){return D[j].run(e,s)}function q(e){let s={};return e&&e.forEach((o,_)=>{s[_]=o,_.toLowerCase()==="set-cookie"&&(s[_]=M(o))}),s}function M(e){let s=[],o=0,_,R,m,N,y;function w(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function O(){return R=e.charAt(o),R!=="="&&R!==";"&&R!==","}for(;o<e.length;){for(_=o,y=!1;w();)if(R=e.charAt(o),R===","){for(m=o,o+=1,w(),N=o;o<e.length&&O();)o+=1;o<e.length&&e.charAt(o)==="="?(y=!0,o=N,s.push(e.substring(_,m)),_=o):o=m+1}else o+=1;(!y||o>=e.length)&&s.push(e.substring(_,e.length))}return s}function C(e){let s=e.staticRoutes.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page})),o=e.dynamicRoutes?.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page}))||[];return async function(_,R){let m=new URL(_.url).pathname,N={};if(e.nextConfig?.basePath&&m.startsWith(e.nextConfig.basePath)&&(m=m.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let O=new RegExp(`^/${w}($|/)`,"i");if(m.match(O)){m=m.replace(O,"/")||"/";break}}for(let w of s)if(w.regexp.exec(m)){N.name=w.page;break}if(!N.name){let w=F(m);for(let O of o||[]){if(w&&!F(O.page))continue;let G=O.regexp.exec(m);if(G){N={name:O.page,params:G.groups};break}}}let y=await B({waitUntil:R.waitUntil},()=>i._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:_.url,method:_.method,headers:q(_.headers),ip:$(_.headers,b.Ip),geo:{city:$(_.headers,b.City,!0),country:$(_.headers,b.Country,!0),latitude:$(_.headers,b.Latitude),longitude:$(_.headers,b.Longitude),region:$(_.headers,b.Region,!0)},nextConfig:e.nextConfig,page:N,body:_.body}}));return y.waitUntil&&R.waitUntil(y.waitUntil),y.response}}function $(e,s,o=!1){let _=e.get(s)||void 0;return o&&_?decodeURIComponent(_):_}function F(e){return e==="/api"||e.startsWith("/api/")}var b;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(b||(b={}))}(p,p.exports),p.exports}.call({}).default({name:"app/api/vendors/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(g,g,g);export{Pn as default};
