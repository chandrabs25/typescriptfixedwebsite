(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{2615:function(e,s,t){Promise.resolve().then(t.bind(t,2740))},3639:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6858:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},401:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3245:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},2740:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y},runtime:function(){return g}});var a=t(7437),r=t(2265),l=t(9376),i=t(7648),n=t(5863),c=t(3639),d=t(3774),o=t(1723),m=t(5805),x=t(401),u=t(6858),h=t(3245),p=t(9889);let g="edge",b=()=>(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Loading package details..."})]});function f(){var e,s,t,n;let g=(0,l.useParams)();(0,l.useRouter)();let f=g.id,[y,j]=(0,r.useState)(1),{data:N,error:v,status:k}=(0,p.i)(f?"/api/packages/".concat(f):null),[w,Z]=(0,r.useState)(null);if((0,r.useEffect)(()=>{if("success"===k&&(null==N?void 0:N.data)){var e,s,t;let a={...N.data},r={days:[],highlights:[],inclusions:[],exclusions:[]};if(a.itinerary&&"string"==typeof a.itinerary)try{let e=JSON.parse(a.itinerary);r.highlights=Array.isArray(e.highlights)?e.highlights:[],r.inclusions=Array.isArray(e.inclusions)?e.inclusions:[],r.exclusions=Array.isArray(e.exclusions)?e.exclusions:[],r.days=Array.isArray(e.days)?e.days:[]}catch(e){console.error("Failed itinerary parse pkg ".concat(a.id,":"),e)}if(a.included_services&&"string"==typeof a.included_services&&!(null===(e=r.inclusions)||void 0===e?void 0:e.length))try{let e=JSON.parse(a.included_services);Array.isArray(e)&&(r.inclusions=e)}catch(e){r.inclusions=a.included_services.split(",").map(e=>e.trim()).filter(e=>e)}a.parsedItinerary=r,a.bestTimeToVisit=null!==(s=a.bestTimeToVisit)&&void 0!==s?s:"October to May",a.howToReach=null!==(t=a.howToReach)&&void 0!==t?t:"Varies (Ferry/Flight)",Z(a),j(1)}else"loading"!==k&&Z(null)},[k,N]),"loading"===k)return(0,a.jsx)(b,{});if("error"===k)return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 text-red-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-4",children:"Error Loading Package"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:(null==v?void 0:v.message)||"Could not fetch package details."}),(0,a.jsx)(i.default,{href:"/packages",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Packages"})]});if("success"===k&&!w)return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Package Not Found"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-6",children:["The package you are looking for (ID: ",f,") does not exist or is unavailable."]}),(0,a.jsx)(i.default,{href:"/packages",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Packages"})]});if(!w)return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Data Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Could not display package details. Please try refreshing."}),(0,a.jsx)(i.default,{href:"/packages",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Packages"})]});let S=(null===(e=w.parsedItinerary)||void 0===e?void 0:e.days)||[],P=(null===(s=w.parsedItinerary)||void 0===s?void 0:s.highlights)||[],A=(null===(t=w.parsedItinerary)||void 0===t?void 0:t.inclusions)||[],E=(null===(n=w.parsedItinerary)||void 0===n?void 0:n.exclusions)||[];return(0,a.jsx)("div",{className:"bg-gray-50 min-h-screen py-8 md:py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[(0,a.jsxs)("div",{className:"bg-blue-600 text-white p-4 md:p-6",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:w.name}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[" ",(0,a.jsx)(o.Z,{size:16,className:"mr-1"})," ",(0,a.jsx)("span",{children:w.duration})," "]}),(0,a.jsxs)("div",{className:"flex items-center",children:[" ",(0,a.jsx)(d.Z,{size:16,className:"mr-1"})," ",(0,a.jsx)("span",{children:"Andaman Islands"})," "]}),w.max_people&&(0,a.jsxs)("div",{className:"flex items-center",children:[" ",(0,a.jsx)(m.Z,{size:16,className:"mr-1"})," ",(0,a.jsxs)("span",{children:["Max ",w.max_people," people"]})," "]})]})]}),(0,a.jsxs)("div",{className:"p-4 md:p-6",children:[(0,a.jsxs)("p",{className:"text-gray-700 mb-6 text-sm md:text-base",children:[" ",w.description||"Detailed description coming soon."," "]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 order-1 md:order-1",children:[(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2 md:mb-3 text-blue-600",children:"Price"}),(0,a.jsxs)("p",{className:"text-xl md:text-2xl font-bold",children:["â‚¹",w.base_price.toLocaleString("en-IN")]}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-gray-500",children:"per person (starting)"}),(0,a.jsx)(i.default,{href:"/packages/".concat(w.id,"/book"),className:"mt-3 md:mt-4 block w-full bg-blue-600 hover:bg-blue-700 text-white text-center py-2 px-4 rounded-md transition duration-300 text-sm md:text-base",children:" Book Now "})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 order-2 md:order-2",children:[(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2 md:mb-3 text-blue-600",children:"Highlights"}),P.length>0?(0,a.jsxs)("ul",{className:"space-y-1.5 md:space-y-2",children:[" ",P.slice(0,4).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[" ",(0,a.jsx)(x.Z,{size:14,className:"mr-2 text-green-500 flex-shrink-0 mt-0.5 md:mt-1"})," ",(0,a.jsx)("span",{className:"text-xs md:text-sm",children:e})," "]},"hl-".concat(s)))," ",P.length>4&&(0,a.jsxs)("li",{className:"text-xs md:text-sm text-blue-600 mt-1",children:["+ ",P.length-4," more highlights"]})," "]}):(0,a.jsx)("p",{className:"text-xs md:text-sm text-gray-500 italic",children:"Highlights not specified."})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 order-3 md:order-3",children:[(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2 md:mb-3 text-blue-600",children:"Inclusions"}),A.length>0?(0,a.jsxs)("ul",{className:"space-y-1.5 md:space-y-2",children:[" ",A.slice(0,4).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[" ",(0,a.jsx)(x.Z,{size:14,className:"mr-2 text-green-500 flex-shrink-0 mt-0.5 md:mt-1"})," ",(0,a.jsx)("span",{className:"text-xs md:text-sm",children:e})," "]},"inc-".concat(s)))," ",A.length>4&&(0,a.jsxs)("li",{className:"text-xs md:text-sm text-blue-600 mt-1",children:["+ ",A.length-4," more inclusions"]})," "]}):(0,a.jsx)("p",{className:"text-xs md:text-sm text-gray-500 italic",children:"Inclusions not specified."})]})]}),S.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4",children:"Itinerary"}),(0,a.jsx)("div",{className:"flex overflow-x-auto pb-2 space-x-2 border-b border-gray-200 mb-4",children:S.map(e=>(0,a.jsxs)("button",{onClick:()=>j(e.day),className:"px-3 py-2 rounded-t-md whitespace-nowrap text-sm transition-colors ".concat(y===e.day?"bg-blue-600 text-white font-medium":"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:[" Day ",e.day," ",(0,a.jsxs)("span",{className:"hidden sm:inline",children:[": ",e.title]})," "]},e.day))})]}),S.map(e=>(0,a.jsxs)("div",{className:"".concat(y===e.day?"block animate-fadeIn":"hidden"),children:[(0,a.jsxs)("div",{className:"border-l-4 border-blue-600 pl-3 md:pl-4 mb-5 md:mb-6",children:[" ",(0,a.jsxs)("h3",{className:"text-lg md:text-xl font-semibold",children:["Day ",e.day,": ",e.title]})," ",(0,a.jsx)("p",{className:"text-gray-600 mt-1 md:mt-2 text-sm md:text-base",children:e.description})," "]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h4",{className:"font-semibold text-gray-700 mb-2 text-base",children:"Activities"})," ",e.activities&&e.activities.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[" ",e.activities.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start",children:[" ",(0,a.jsx)("div",{className:"w-16 sm:w-20 flex-shrink-0 text-xs sm:text-sm text-gray-500 pt-0.5",children:e.time||""})," ",(0,a.jsxs)("div",{className:"flex-1",children:[" ",(0,a.jsx)("div",{className:"text-sm font-medium",children:e.name})," ",(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.duration||""})," "]})," "]},"act-".concat(s)))," "]}):(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No specific activities listed."})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h4",{className:"font-semibold text-gray-700 mb-2 text-base",children:"Meals"})," ",e.meals&&e.meals.length>0?(0,a.jsxs)("div",{className:"space-y-1",children:[" ",e.meals.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[" ",(0,a.jsx)(x.Z,{size:14,className:"mr-1.5 text-green-500"})," ",(0,a.jsx)("span",{className:"text-sm",children:e})," "]},"meal-".concat(s)))," "]}):(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Meals not specified."})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h4",{className:"font-semibold text-gray-700 mb-2 text-base",children:"Accommodation"})," ",e.accommodation&&"N/A"!==e.accommodation?(0,a.jsxs)("div",{className:"text-sm",children:[" ",(0,a.jsxs)("div",{className:"flex items-start",children:[" ",(0,a.jsx)(d.Z,{size:14,className:"mr-1.5 text-gray-500 flex-shrink-0 mt-0.5"})," ",(0,a.jsx)("span",{children:e.accommodation})," "]})," "]}):(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No accommodation/departure day."})," "]})]}),e.day<S.length&&(0,a.jsxs)("div",{className:"flex justify-end mt-4",children:[" ",(0,a.jsxs)("button",{onClick:()=>j(e.day+1),className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center",children:[" Next Day ",(0,a.jsx)(u.Z,{size:16,className:"ml-1"})," "]})," "]})]},e.day))]}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 italic",children:" Detailed day-wise itinerary is not available for this package. "})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:(0,a.jsxs)("div",{className:"p-4 md:p-6",children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-4",children:"Important Information"}),E.length>0&&(0,a.jsxs)("div",{className:"mb-5 md:mb-6",children:[" ",(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2",children:"Exclusions"})," ",(0,a.jsxs)("ul",{className:"space-y-1.5 md:space-y-2",children:[" ",E.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[" ",(0,a.jsx)(h.Z,{size:14,className:"mr-2 text-red-500 flex-shrink-0 mt-0.5 md:mt-1"})," ",(0,a.jsx)("span",{className:"text-sm md:text-base",children:e})," "]},"excl-".concat(s)))," "]})," "]}),(0,a.jsxs)("div",{className:"mb-5 md:mb-6",children:[" ",(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2",children:"Cancellation Policy"})," ",(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm md:text-base text-gray-700",children:[" ",(0,a.jsx)("li",{children:"Policies vary. Check details during booking."})," "]})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-2",children:"Additional Notes"})," ",(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm md:text-base text-gray-700",children:[" ",(0,a.jsx)("li",{children:"Itinerary subject to change due to weather/local conditions."})," "]})," "]})]})}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 md:p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4",children:"Ready to Explore Andaman?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-5 md:mb-6 max-w-2xl mx-auto text-sm md:text-base",children:" Book this package now to secure your spot. "}),(0,a.jsx)(i.default,{href:"/packages/".concat(w.id,"/book"),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white py-2.5 px-6 md:py-3 md:px-8 rounded-md transition duration-300 text-sm md:text-base",children:" Book Now "})]})]})})}function y(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(b,{}),children:(0,a.jsx)(f,{})})}},9889:function(e,s,t){"use strict";t.d(s,{i:function(){return r},q:function(){return l}});var a=t(2265);function r(e,s){let[t,r]=(0,a.useState)(null),[l,i]=(0,a.useState)(null),[n,c]=(0,a.useState)("idle"),d=JSON.stringify(s);return(0,a.useEffect)(()=>{(async()=>{if(!e){c("idle"),r(null),i(null);return}c("loading"),r(null),i(null);try{let s;let t=JSON.parse(d||"{}"),a=await fetch(e,{...t,credentials:"include"});try{s=await a.json()}catch(e){throw Error("Request failed with status ".concat(a.status," and non-JSON response."))}if(!a.ok){let e=(null==s?void 0:s.message)||a.statusText||"HTTP error! Status: ".concat(a.status);throw Error(e)}if(s.success)void 0!==s.data?(r(s.data),c("success")):(r(null),c("success"),console.warn("Fetch successful but no data returned for URL: ".concat(e)));else throw Error(s.message||"API returned success: false")}catch(s){console.error("Fetch error for URL ".concat(e,":"),s),i(s instanceof Error?s:Error("Unknown fetch error occurred")),c("error")}})()},[e,d]),{data:t,error:l,status:n,isLoading:"loading"===n}}function l(e){let[s,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(null),[i,n]=(0,a.useState)("idle");return{submit:async function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";n("loading"),t(null),l(null);try{let r;let l=await fetch(e,{method:a,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s),credentials:"include"});try{r=await l.json()}catch(e){throw console.error("Failed to parse JSON response:",e),Error("Request failed with status ".concat(l.status," and non-JSON response."))}if(l.ok&&r.success){if(void 0!==r.data)return t(r.data),n("success"),{success:!0,data:r.data};return t(null),n("success"),console.warn("Submit successful but no data returned for URL: ".concat(e)),{success:!0,data:null}}throw Error(r.message||"API Error: Status ".concat(l.status))}catch(s){console.error("Submit error:",s);let e=s instanceof Error?s.message:"Unknown submit error occurred";return l(Error(e)),n("error"),{success:!1,error:e}}},data:s,error:r,status:i,isLoading:"loading"===i,reset:()=>{t(null),l(null),n("idle")}}}}},function(e){e.O(0,[451,971,30,744],function(){return e(e.s=2615)}),_N_E=e.O()}]);