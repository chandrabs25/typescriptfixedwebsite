(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{7776:function(e,t,s){Promise.resolve().then(s.bind(s,4272))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},4272:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),r=s(2265),n=s(9376),i=s(7648),l=s(3145),c=s(5863),o=s(6595),d=s(1723),u=s(3774),m=s(6858);let x=(0,s(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var h=s(2489),g=s(3639),p=s(9889);let f=()=>(0,a.jsxs)("div",{className:"flex justify-center items-center py-20",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-2 text-lg",children:"Loading packages..."})]}),b=e=>{var t,s;let{pkg:r}=e,n=(null===(s=r.images)||void 0===s?void 0:null===(t=s.split(",")[0])||void 0===t?void 0:t.trim())||"/images/placeholder.jpg",c=["Sightseeing","Beach"];return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col transition-transform duration-300 hover:shadow-lg hover:scale-[1.02]",children:[(0,a.jsxs)("div",{className:"h-48 w-full relative flex-shrink-0",children:[(0,a.jsx)(l.default,{src:n,alt:r.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:e=>e.currentTarget.src="/images/placeholder.jpg"}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 bg-white/80 backdrop-blur-sm px-2 py-0.5 rounded-full text-xs sm:text-sm font-semibold text-blue-700",children:["₹",r.base_price.toLocaleString("en-IN")," "]})]}),(0,a.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold leading-tight flex-1 mr-2",children:r.name}),(0,a.jsxs)("div",{className:"flex items-center text-yellow-500 flex-shrink-0 ml-2",children:[(0,a.jsx)(o.Z,{size:14,fill:"currentColor"}),(0,a.jsx)("span",{className:"ml-1 text-xs font-medium",children:(4.5+.4*Math.random()).toFixed(1)})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 text-xs mb-2",children:[(0,a.jsx)(d.Z,{size:12,className:"mr-1"})," ",(0,a.jsx)("span",{children:r.duration})]}),(0,a.jsxs)("div",{className:"flex items-start mb-3 text-xs text-gray-500",children:[(0,a.jsx)(u.Z,{size:14,className:"mr-1 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:"Port Blair • Havelock"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 flex-grow",children:r.description||"No description available."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[c.slice(0,3).map((e,t)=>(0,a.jsxs)("span",{className:"bg-blue-50 text-blue-700 text-[11px] px-1.5 py-0.5 rounded-full",children:[" ",e," "]},t)),c.length>3&&(0,a.jsxs)("span",{className:"bg-gray-100 text-gray-600 text-[11px] px-1.5 py-0.5 rounded-full",children:[" +",c.length-3," more "]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100",children:[(0,a.jsxs)("span",{className:"text-gray-600 text-xs",children:[" Starting from ",(0,a.jsxs)("span",{className:"font-semibold text-blue-600 text-sm",children:["₹",r.base_price.toLocaleString("en-IN")]})," "]}),(0,a.jsxs)(i.default,{href:"/packages/".concat(r.id),className:"flex items-center text-blue-600 hover:text-blue-800 font-medium text-xs sm:text-sm",children:["View Details ",(0,a.jsx)(m.Z,{size:14,className:"ml-1"})]})]})]})]})};function j(){var e;let t=(0,n.useSearchParams)(),[s,c]=(0,r.useState)({destination:t.get("destination")||"",duration:t.get("duration")||"",priceRange:t.get("priceRange")||"",activities:(null===(e=t.get("activities"))||void 0===e?void 0:e.split(","))||[]}),[o,m]=(0,r.useState)([]),[j,v]=(0,r.useState)([]),[y,N]=(0,r.useState)(!1),{data:k,error:w,status:S}=(0,p.i)("/api/packages");(0,r.useEffect)(()=>{"success"===S&&(null==k?void 0:k.packages)?m(k.packages):"error"===S&&m([])},[S,k]);let Z=e=>{let{name:t,value:a}=e.target;c({...s,[t]:a})},P=e=>{c(t=>{let s=[...t.activities];return s.includes(e)?{...t,activities:s.filter(t=>t!==e)}:{...t,activities:[...s,e]}})};return(0,r.useEffect)(()=>{let e=[...o];if(s.destination&&(e=e.filter(e=>(e.name+(e.description||"")).toLowerCase().includes(s.destination.toLowerCase()))),s.duration){let t=parseInt(s.duration);isNaN(t)||(e=e.filter(e=>{let a=e.duration.match(/^(\d+)\s*Days/i),r=a?parseInt(a[1]):0;return s.duration.includes("+")?r>=t:r===t}))}if(s.priceRange){let t=s.priceRange.split("-").map(Number),a=t[0],r=t.length>1?t[1]:1/0;if(isNaN(a)){let t=Number(s.priceRange);isNaN(t)||(e=e.filter(e=>e.base_price>=t))}else e=e.filter(e=>e.base_price>=a&&e.base_price<=r)}s.activities.length>0&&(e=e.filter(e=>s.activities.every(t=>(e.name+(e.description||"")).toLowerCase().includes(t.toLowerCase())))),v(e)},[s,o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative bg-gradient-to-r from-cyan-600 to-blue-700 h-64 md:h-80",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 z-10"}),(0,a.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,a.jsx)(l.default,{src:"/images/packages-hero.jpg",alt:"Andaman tour packages - Desktop",fill:!0,className:"object-cover hidden md:block",priority:!0}),(0,a.jsx)(l.default,{src:"/images/packages-hero-mobile.jpg",alt:"Andaman tour packages - Mobile",fill:!0,className:"object-cover block md:hidden",priority:!0})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center items-center relative z-20",children:[(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white text-center mb-2 md:mb-4",children:" Our Andaman Packages "}),(0,a.jsx)("p",{className:"text-lg sm:text-xl text-white text-center max-w-2xl opacity-90",children:" Find the perfect curated experience for your island getaway. "})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 min-h-screen py-8 md:py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("div",{className:"md:hidden mb-4 text-center",children:(0,a.jsxs)("button",{onClick:()=>N(!y),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(x,{size:16,className:"mr-2"})," ",y?"Hide Filters":"Show Filters"]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 mb-8 ".concat(y?"block":"hidden"," md:block"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-semibold",children:"Filter Packages"}),(0,a.jsxs)("button",{className:"md:hidden text-gray-500 hover:text-gray-700",onClick:()=>N(!1),children:[" ",(0,a.jsx)(h.Z,{size:20})," "]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-700 mb-1",children:" Destination "}),(0,a.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white overflow-hidden",children:[(0,a.jsx)(u.Z,{className:"ml-3 text-gray-400 flex-shrink-0 pointer-events-none",size:16}),(0,a.jsxs)("select",{id:"destination",name:"destination",value:s.destination,onChange:Z,className:"pl-2 pr-8 py-2 w-full text-sm border-none focus:ring-0 bg-transparent appearance-none",style:{backgroundImage:"none"},children:[(0,a.jsx)("option",{value:"",children:"All"}),(0,a.jsx)("option",{value:"Port Blair",children:"Port Blair"}),(0,a.jsx)("option",{value:"Havelock",children:"Havelock"}),(0,a.jsx)("option",{value:"Neil",children:"Neil Island"}),(0,a.jsx)("option",{value:"Baratang",children:"Baratang"}),(0,a.jsx)("option",{value:"Diglipur",children:"Diglipur"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:" Duration "}),(0,a.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white overflow-hidden",children:[(0,a.jsx)(d.Z,{className:"ml-3 text-gray-400 flex-shrink-0 pointer-events-none",size:16}),(0,a.jsxs)("select",{id:"duration",name:"duration",value:s.duration,onChange:Z,className:"pl-2 pr-8 py-2 w-full text-sm border-none focus:ring-0 bg-transparent appearance-none",style:{backgroundImage:"none"},children:[(0,a.jsx)("option",{value:"",children:"Any"})," ",(0,a.jsx)("option",{value:"4",children:"4 Days"})," ",(0,a.jsx)("option",{value:"5",children:"5 Days"})," ",(0,a.jsx)("option",{value:"6",children:"6 Days"})," ",(0,a.jsx)("option",{value:"7",children:"7 Days"})," ",(0,a.jsx)("option",{value:"8+",children:"8+ Days"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"priceRange",className:"block text-sm font-medium text-gray-700 mb-1",children:" Price Range "}),(0,a.jsxs)("select",{id:"priceRange",name:"priceRange",value:s.priceRange,onChange:Z,className:"pl-3 pr-8 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none text-sm",style:{backgroundImage:"none"},children:[(0,a.jsx)("option",{value:"",children:"Any Price"}),(0,a.jsx)("option",{value:"0-15000",children:"Under ₹15k"})," ",(0,a.jsx)("option",{value:"15000-25000",children:"₹15k - ₹25k"}),(0,a.jsx)("option",{value:"25000-40000",children:"₹25k - ₹40k"}),(0,a.jsx)("option",{value:"40000",children:"₹40k+"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" Activities "}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:["Scuba Diving","Snorkeling","Trekking","Beach"].map(e=>(0,a.jsx)("button",{onClick:()=>P(e),className:"text-xs px-2 py-1 rounded-full transition-colors ".concat(s.activities.includes(e)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]})]})]}),"loading"===S?(0,a.jsx)(f,{}):"error"===S?(0,a.jsxs)("div",{className:"text-center py-10 px-4 bg-red-50 border border-red-200 rounded-md",children:[(0,a.jsx)(g.Z,{className:"h-8 w-8 text-red-500 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-red-700 font-medium",children:"Could not load packages."}),(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:(null==w?void 0:w.message)||"An unknown error occurred."})]}):j.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:j.map(e=>(0,a.jsx)(b,{pkg:e},e.id))}):(0,a.jsxs)("div",{className:"col-span-full text-center py-12 bg-white rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No packages found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters or check back later."})]}),(0,a.jsxs)("div",{className:"mt-12 md:mt-16 bg-blue-50 rounded-lg p-6 md:p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4",children:"Can't find what you're looking for?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-5 md:mb-6 max-w-2xl mx-auto text-sm md:text-base",children:" Let us create a custom package tailored to your preferences, budget, and travel dates. "}),(0,a.jsx)(i.default,{href:"/custom-package",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white py-2.5 px-5 md:py-3 md:px-6 rounded-md transition duration-300 text-sm md:text-base",children:"Create Custom Package"})]})]})})]})}function v(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(f,{}),children:(0,a.jsx)(j,{})})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return r},q:function(){return n}});var a=s(2265);function r(e,t){let[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[l,c]=(0,a.useState)("idle"),o=JSON.stringify(t);return(0,a.useEffect)(()=>{(async()=>{if(!e){c("idle"),r(null),i(null);return}c("loading"),r(null),i(null);try{let t;let s=JSON.parse(o||"{}"),a=await fetch(e,{...s,credentials:"include"});try{t=await a.json()}catch(e){throw Error("Request failed with status ".concat(a.status," and non-JSON response."))}if(!a.ok){let e=(null==t?void 0:t.message)||a.statusText||"HTTP error! Status: ".concat(a.status);throw Error(e)}if(t.success)void 0!==t.data?(r(t.data),c("success")):(r(null),c("success"),console.warn("Fetch successful but no data returned for URL: ".concat(e)));else throw Error(t.message||"API returned success: false")}catch(t){console.error("Fetch error for URL ".concat(e,":"),t),i(t instanceof Error?t:Error("Unknown fetch error occurred")),c("error")}})()},[e,o]),{data:s,error:n,status:l,isLoading:"loading"===l}}function n(e){let[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[i,l]=(0,a.useState)("idle");return{submit:async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";l("loading"),s(null),n(null);try{let r;let n=await fetch(e,{method:a,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t),credentials:"include"});try{r=await n.json()}catch(e){throw console.error("Failed to parse JSON response:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(n.ok&&r.success){if(void 0!==r.data)return s(r.data),l("success"),{success:!0,data:r.data};return s(null),l("success"),console.warn("Submit successful but no data returned for URL: ".concat(e)),{success:!0,data:null}}throw Error(r.message||"API Error: Status ".concat(n.status))}catch(t){console.error("Submit error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return n(Error(e)),l("error"),{success:!1,error:e}}},data:t,error:r,status:i,isLoading:"loading"===i,reset:()=>{s(null),n(null),l("idle")}}}}},function(e){e.O(0,[451,145,971,30,744],function(){return e(e.s=7776)}),_N_E=e.O()}]);