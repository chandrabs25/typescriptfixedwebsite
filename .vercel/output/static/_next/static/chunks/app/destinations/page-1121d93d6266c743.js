(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{4261:function(e,t,s){Promise.resolve().then(s.bind(s,3913))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3913:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),a=s(2265),n=s(7648),l=s(3145),i=s(5863),o=s(3639),c=s(9889);let d=()=>(0,r.jsxs)("div",{className:"flex justify-center items-center py-20",children:[(0,r.jsx)(i.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-lg",children:"Loading destinations..."})]}),u=e=>{var t,s;let{destination:a}=e,i=(null===(s=a.images)||void 0===s?void 0:null===(t=s.split(",")[0])||void 0===t?void 0:t.trim())||"/images/placeholder.jpg";return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col transition-transform duration-300 hover:scale-105",children:[(0,r.jsx)("div",{className:"h-48 sm:h-56 w-full relative flex-shrink-0",children:(0,r.jsx)(l.default,{src:i,alt:a.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:e=>e.currentTarget.src="/images/placeholder.jpg"})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,r.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-1",children:a.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Andaman Islands"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-3 line-clamp-3 flex-grow",children:a.description||"Explore this beautiful destination."}),(0,r.jsx)("div",{className:"mt-auto pt-3 border-t border-gray-100 text-right",children:(0,r.jsx)(n.default,{href:"/destinations/".concat(a.id),className:"inline-block bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Explore More"})})]})]})};function m(){let{data:e,error:t,status:s}=(0,c.i)("/api/destinations"),a=(null==e?void 0:e.data)||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative bg-blue-900 h-64 md:h-80",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/80 to-blue-700/70 z-10"}),(0,r.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,r.jsx)(l.default,{src:"/images/destinations-hero.jpg",alt:"Panoramic view of Andaman Islands - Desktop",fill:!0,className:"object-cover hidden md:block",priority:!0}),(0,r.jsx)(l.default,{src:"/images/destinations-hero-mobile.jpg",alt:"Beautiful Andaman beach - Mobile",fill:!0,className:"object-cover block md:hidden",priority:!0})]}),(0,r.jsxs)("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center items-center relative z-20",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white text-center mb-2 md:mb-4",children:" Explore Andaman Destinations "}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-white text-center max-w-2xl opacity-90",children:" Discover paradise islands with pristine beaches, vibrant coral reefs, and lush forests "})]})]}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-10 md:py-16",children:"loading"===s?(0,r.jsx)(d,{}):"error"===s?(0,r.jsxs)("div",{className:"text-center py-10 px-4 bg-red-50 border border-red-200 rounded-md",children:[(0,r.jsx)(o.Z,{className:"h-8 w-8 text-red-500 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-red-700 font-medium",children:"Could not load destinations."}),(0,r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:(null==t?void 0:t.message)||"An unknown error occurred."})]}):a.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:a.map(e=>(0,r.jsx)(u,{destination:e},e.id))}):(0,r.jsxs)("div",{className:"text-center py-16 bg-white rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"No Destinations Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Check back later or explore our packages!"})]})})]})}function x(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(d,{}),children:(0,r.jsx)(m,{})})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return a},q:function(){return n}});var r=s(2265);function a(e,t){let[s,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)("idle"),c=JSON.stringify(t);return(0,r.useEffect)(()=>{(async()=>{if(!e){o("idle"),a(null),l(null);return}o("loading"),a(null),l(null);try{let t;let s=JSON.parse(c||"{}"),r=await fetch(e,{...s,credentials:"include"});try{t=await r.json()}catch(e){throw Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let e=(null==t?void 0:t.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw Error(e)}if(t.success)void 0!==t.data?(a(t.data),o("success")):(a(null),o("success"),console.warn("Fetch successful but no data returned for URL: ".concat(e)));else throw Error(t.message||"API returned success: false")}catch(t){console.error("Fetch error for URL ".concat(e,":"),t),l(t instanceof Error?t:Error("Unknown fetch error occurred")),o("error")}})()},[e,c]),{data:s,error:n,status:i,isLoading:"loading"===i}}function n(e){let[t,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),[l,i]=(0,r.useState)("idle");return{submit:async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";i("loading"),s(null),n(null);try{let a;let n=await fetch(e,{method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t),credentials:"include"});try{a=await n.json()}catch(e){throw console.error("Failed to parse JSON response:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(n.ok&&a.success){if(void 0!==a.data)return s(a.data),i("success"),{success:!0,data:a.data};return s(null),i("success"),console.warn("Submit successful but no data returned for URL: ".concat(e)),{success:!0,data:null}}throw Error(a.message||"API Error: Status ".concat(n.status))}catch(t){console.error("Submit error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return n(Error(e)),i("error"),{success:!1,error:e}}},data:t,error:a,status:l,isLoading:"loading"===l,reset:()=>{s(null),n(null),i("idle")}}}}},function(e){e.O(0,[451,145,971,30,744],function(){return e(e.s=4261)}),_N_E=e.O()}]);